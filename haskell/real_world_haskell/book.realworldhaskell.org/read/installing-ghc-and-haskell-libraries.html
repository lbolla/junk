<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Appendix A. Installing GHC and Haskell libraries</title><link rel="stylesheet" href="/support/styles.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><link rel="start" href="index.html" title="Real World Haskell"><link rel="up" href="index.html" title="Real World Haskell"><link rel="prev" href="software-transactional-memory.html" title="Chapter 28. Software transactional memory"><link rel="next" href="characters-strings-and-escaping-rules.html" title="Appendix B. Characters, strings, and escaping rules"><link rel="alternate" type="application/atom+xml" title="Comments" href="/feeds/comments/"><link rel="shortcut icon" type="image/png" href="/support/figs/favicon.png"><script type="text/javascript" src="/support/jquery-min.js"></script><script type="text/javascript" src="/support/form.js"></script><script type="text/javascript" src="/support/hsbook.js"></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><h2 class="booktitle"><a href="/">Real World Haskell</a><span class="authors">by Bryan O'Sullivan, Don Stewart, and John Goerzen</span></h2></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix A. Installing GHC and Haskell libraries</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="software-transactional-memory.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="characters-strings-and-escaping-rules.html">Next</a></td></tr></table></div><div class="appendix" lang="en" id="install"><div class="titlepage"><div><div><h2 class="title">Appendix A. Installing GHC and Haskell libraries</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="installing-ghc-and-haskell-libraries.html#id688268">Installing GHC</a></span></dt><dd><dl><dt><span class="sect2"><a href="installing-ghc-and-haskell-libraries.html#install.win">Windows</a></span></dt><dt><span class="sect2"><a href="installing-ghc-and-haskell-libraries.html#install.mac">Mac OS X</a></span></dt><dd><dl><dt><span class="sect3"><a href="installing-ghc-and-haskell-libraries.html#id688691">Alternatives</a></span></dt></dl></dd><dt><span class="sect2"><a href="installing-ghc-and-haskell-libraries.html#install.debian">Ubuntu and Debian Linux</a></span></dt><dt><span class="sect2"><a href="installing-ghc-and-haskell-libraries.html#install.fedora">Fedora Linux</a></span></dt><dt><span class="sect2"><a href="installing-ghc-and-haskell-libraries.html#id688876">FreeBSD</a></span></dt></dl></dd><dt><span class="sect1"><a href="installing-ghc-and-haskell-libraries.html#installing.haskell.software">Installing Haskell software</a></span></dt><dd><dl><dt><span class="sect2"><a href="installing-ghc-and-haskell-libraries.html#id688956">Automated download and installation with cabal</a></span></dt><dd><dl><dt><span class="sect3"><a href="installing-ghc-and-haskell-libraries.html#id689017">Installing cabal</a></span></dt><dt><span class="sect3"><a href="installing-ghc-and-haskell-libraries.html#id689131">Updating cabal's package list</a></span></dt><dt><span class="sect3"><a href="installing-ghc-and-haskell-libraries.html#id689166">Installing a library or program</a></span></dt></dl></dd><dt><span class="sect2"><a href="installing-ghc-and-haskell-libraries.html#install.pkg.manual">Building packages by hand</a></span></dt></dl></dd></dl></div><p id="x_l"><a name="x_l"></a>We are providing the instructions below based on our
    experience installing <span class="application">GHC</span> and other software in late 2008.
    Installation instructions inevitably become dated quickly; please
    bear this in mind as you read.</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="id688268">Installing GHC</h2></div></div></div><p id="x_m"><a name="x_m"></a>Because <span class="application">GHC</span> runs on a large number of platforms,
      we focus on a handful of the most popular.</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title" id="install.win">Windows</h3></div></div></div><p id="x_n"><a name="x_n"></a>The prebuilt binary packages of <span class="application">GHC</span> should work
	on Windows Vista and XP (even Windows 2000). We have installed
	<span class="application">GHC</span> 6.8.3 under Windows XP Service Pack 2; here are the
	steps we followed.</p><div class="note"><table border="0" summary="Note: How much room does GHC need?"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/support/figs/note.png"></td><th align="left">How much room does GHC need?</th></tr><tr><td align="left" valign="top"><p id="x_o"><a name="x_o"></a>On Windows, <span class="application">GHC</span> requires about 400MB of disk
	  space.  The exact amount will vary from release to
	  release.</p></td></tr></table></div><p id="x_p"><a name="x_p"></a>Our first step is to visit the <span class="application">GHC</span> <a class="ulink" href="http://www.haskell.org/ghc/download.html" target="_top">download
	  page</a>, and follow the link to the current stable
	release.  Scroll down to the section entitled “<span class="quote">Binary
	  packages</span>”, and then again to the subsection for
	Windows.  Download the installer; in our case, it's named
	<code class="filename">ghc-6.8.3-i386-windows.exe</code>.</p><div class="informalfigure"><div class="mediaobject"><img src="figs/win32-download.png" alt="Screenshot of Firefox, displaying the GHC download page."></div></div><p id="x_q"><a name="x_q"></a>After the installer has downloaded,
	double-clicking on it starts the installation process.  This
	involves stepping through a normal Windows installer
	wizard.</p><div class="informalfigure"><div class="mediaobject"><img src="figs/win32-wizard1.png" alt="Screenshot of the GHC installation wizard on Windows."></div></div><p id="x_r"><a name="x_r"></a>Once the installer has finished, the Start Menu's
	“<span class="quote">All Programs</span>” submenu should have a <span class="application">GHC</span>
	folder, inside of which you'll find an icon that you can use
	to run <span class="command"><strong>ghci</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="figs/win32-start-menu.png" alt="Screenshot of the Windows XP start menu, showing the GHC submenu."></div></div><p id="x_s"><a name="x_s"></a>Clicking on the <span class="command"><strong>ghci</strong></span> icon brings up a normal
	Windows console window, running <span class="command"><strong>ghci</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="figs/win32-ghci.png" alt="Screenshot of the ghci interpreter running on Windows."></div></div><div class="note"><table border="0" summary="Note: Updating your search path"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/support/figs/note.png"></td><th align="left">Updating your search path</th></tr><tr><td align="left" valign="top"><p id="x_t"><a name="x_t"></a>The <span class="application">GHC</span> installer automatically modifies your
	  user account's <code class="envar">PATH</code> environment variable so
	  that commands like <span class="command"><strong>ghc</strong></span> will be present in the command
	  shell's search path (i.e. you can type a <span class="application">GHC</span> command name
	  without typing its complete path).  This change will take
	  effect the next time you open a command shell.</p></td></tr></table></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title" id="install.mac">Mac OS X</h3></div></div></div><p id="x_u"><a name="x_u"></a>We have installed <span class="application">GHC</span> 6.8.3 under Mac OS X 10.5
	(Leopard), on an Intel-based MacBook.  Before installing
	<span class="application">GHC</span>, the Xcode development system must already be
	installed.</p><p id="x_A1"><a name="x_A1"></a>The Xcode software installer may have come
	bundled on a DVD with your Mac.  If not (or you can't find
	it), you should be able to download it from Apple.  Once
	you've finished installing Xcode, continue on to download
	<span class="application">GHC</span> itself.</p><p id="x_v"><a name="x_v"></a>Visit the <span class="application">GHC</span> <a class="ulink" href="http://www.haskell.org/ghc/download.html" target="_top">download
	  page</a>, and follow the link to the current stable
	release.  Scroll down to the section entitled “<span class="quote">Binary
	  packages</span>”, and then again to the subsection for Mac
	OS X.  There is a single installer package available. Download
	and run it.</p><div class="tip"><table border="0" summary="Tip: Terminal at your fingertips yet?"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="/support/figs/tip.png"></td><th align="left">Terminal at your fingertips yet?</th></tr><tr><td align="left" valign="top"><p id="x_F1"><a name="x_F1"></a>Since most of your interactions with <span class="application">GHC</span>
	  will be through a <span class="application">Terminal</span> window, this might be a good
	  time to add the <span class="application">Terminal</span> application to your dock, if you
	  haven't already done so.  You can find it in the system's
	  <code class="filename">/Applications/Utilities</code> folder.</p></td></tr></table></div><p id="x_I1"><a name="x_I1"></a>The installation process should take a minute or
	two.  Finally, you should be able to successfully run the
	<span class="command"><strong>ghci</strong></span> command from your shell prompt.</p><div class="informalfigure"><div class="mediaobject"><img src="figs/osx-ghci.png" alt="Screenshot of the ghci interpreter running in a Terminal window on Mac OS X."></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title" id="id688691">Alternatives</h4></div></div></div><p id="x_WN1"><a name="x_WN1"></a>Both the MacPorts and Fink projects provide builds of
	  <span class="application">GHC</span>.</p></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title" id="install.debian">Ubuntu and Debian Linux</h3></div></div></div><p id="x_XN1"><a name="x_XN1"></a>Under both Ubuntu and Debian, you can install a minimal
	working version of <span class="application">GHC</span> by running <span class="command"><strong>sudo aptitude
	  install ghc6</strong></span> from a shell prompt.</p><p id="x_YN1"><a name="x_YN1"></a>These distros maintain a small core <span class="application">GHC</span> package, which
	is insufficient for much practical development. However, they
	make a number of additional prebuilt packages available. To
	see a complete list of these prebuilt packages, run
	<span class="command"><strong>apt-cache search libghc6</strong></span>.  We recommend
	that you install at least the <code class="code">mtl</code> package, using
	<span class="command"><strong>sudo aptitude install
	  libghc6-mtl-dev</strong></span>.</p><p id="x_ZN1"><a name="x_ZN1"></a>Since you will probably want to profile the performance of
	your Haskell programs at some point, you should also install
	the <code class="code">ghc6-prof</code> package.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title" id="install.fedora">Fedora Linux</h3></div></div></div><p id="x_J1"><a name="x_J1"></a><span class="application">GHC</span> is available as a standard Fedora binary
	package.  From a shell, all you need to do is run the
	following command:</p><pre id="id688806" class="screen"><strong class="userinput"><code>sudo yum -y install ghc ghc-doc ghc683-prof</code></strong></pre><p id="x_aN1"><a name="x_aN1"></a>The base package, containing the <span class="command"><strong>ghc</strong></span> and <span class="command"><strong>ghci</strong></span> commands
	and libraries, is <code class="filename">ghc</code>.  The
	<code class="filename">ghc-doc</code> package contains the <span class="application">GHC</span> user
	guide, and command and library documentation.  The
	<code class="filename">ghc683-prof</code> package contains
	profiling-capable versions of the standard libraries (note:
	its version number may have changed by the time you read
	this).</p><p id="x_K1"><a name="x_K1"></a>Once installation has finished, you should be
	able to run <span class="command"><strong>ghci</strong></span> from the shell immediately.  You won't need
	to change your shell's search path, or set any environment
	variables.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title" id="id688876">FreeBSD</h3></div></div></div><p id="x_bN1"><a name="x_bN1"></a>Under FreeBSD, run the following commands:</p><pre id="id688889" class="screen"><code class="prompt">$</code> <strong class="userinput"><code>cd /usr/ports/lang/ghc</code></strong>
<code class="prompt">$</code> <strong class="userinput"><code>sudo make install clean</code></strong>
</pre><p id="x_cN1"><a name="x_cN1"></a>This will download and build <span class="application">GHC</span> from source.  You
	should expect the process to take several hours.</p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="installing.haskell.software">Installing Haskell software</h2></div></div></div><p id="x_dN1"><a name="x_dN1"></a>Almost all Haskell libraries are distributed using a
      standard packaging system named Cabal.  You can find hundreds of
      Haskell open source libraries and programs, all of which use
      Cabal, at <a class="ulink" href="http://hackage.haskell.org/" target="_top">http://hackage.haskell.org/</a>, 
      the home of the Hackage code repository.</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title" id="id688956">Automated download and installation with cabal</h3></div></div></div><p id="x_eN1"><a name="x_eN1"></a>A command named <span class="command"><strong>cabal</strong></span> automates the job
	of downloading, building, and installing a Haskell package. It
	also figures out what dependencies a particular library needs,
	and either makes sure that they are installed already, or
	downloads and builds those first.  You can install any Haskell
	package with a single <span class="command"><strong>cabal install
	  <em class="replaceable"><code>mypackage</code></em></strong></span>
	command.</p><p id="x_fN1"><a name="x_fN1"></a>The <span class="command"><strong>cabal</strong></span> command is not bundled with
	<span class="application">GHC</span>, so at least as of version 6.8.3 of <span class="application">GHC</span>, you will have
	to download and build <span class="command"><strong>cabal</strong></span>
	yourself.</p><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title" id="id689017">Installing cabal</h4></div></div></div><p id="x_gN1"><a name="x_gN1"></a>To build the <span class="command"><strong>cabal</strong></span> command, download
	  the sources for the following four packages from <a class="ulink" href="http://hackage.haskell.org/" target="_top">http://hackage.haskell.org/</a></p><div class="itemizedlist"><ul type="disc"><li><p id="x_hN1"><a name="x_hN1"></a><code class="code">Cabal</code></p></li><li><p id="x_iN1"><a name="x_iN1"></a><code class="code">HTTP</code></p></li><li><p id="x_jN1"><a name="x_jN1"></a><code class="code">zlib</code></p></li><li><p id="x_kN1"><a name="x_kN1"></a><code class="code">cabal-install</code></p></li></ul></div><p id="x_lN1"><a name="x_lN1"></a>Follow the instructions in <a class="xref" href="installing-ghc-and-haskell-libraries.html#install.pkg.manual" title="Building packages by hand">the section called “Building packages by hand”</a> below to manually build each of
	  the four packages above, making sure that you leave
	  <code class="code">cabal-install</code> until last.</p><p id="x_mN1"><a name="x_mN1"></a>After you install the <code class="code">cabal-install</code>
	  package, the <code class="code">$HOME/.cabal/bin</code> directory will
	  contain the <span class="command"><strong>cabal</strong></span> command.  You can
	  either move it somewhere more convenient or add that
	  directory to your shell's search path.</p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title" id="id689131">Updating cabal's package list</h4></div></div></div><p id="x_nN1"><a name="x_nN1"></a>After installing <span class="command"><strong>cabal</strong></span>, and
	  periodically thereafter, you should download a fresh list of
	  packages from Hackage.  You can do so as follows:</p><pre id="id689151" class="screen"><code class="prompt">$</code> <strong class="userinput"><code>cabal update</code></strong></pre></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title" id="id689166">Installing a library or program</h4></div></div></div><p id="x_oN1"><a name="x_oN1"></a>To install some executable or library, just run the
	  following command:</p><pre id="id689180" class="screen"><code class="prompt">$</code> <strong class="userinput"><code>cabal install -p <em class="replaceable"><code>mypackage</code></em></code></strong></pre></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title" id="install.pkg.manual">Building packages by hand</h3></div></div></div><p id="x_pN1"><a name="x_pN1"></a>If you download a tarball from Hackage, it will arrive in
	source form.  Unpack the tarball, and go into the newly
	created directory in a command shell.  The process to build
	and install it is simple, consisting of three
	commmands:</p><div class="orderedlist"><ol type="1"><li><p id="x_qN1"><a name="x_qN1"></a>Configure for system-wide installation (i.e. available
	    to all users):</p><pre id="id689234" class="screen"><code class="prompt">$</code> <strong class="userinput"><code>runghc Setup configure -p</code></strong></pre><p id="x_rN1"><a name="x_rN1"></a>Alternatively, configure to install only for
	    yourself:</p><pre id="id689257" class="screen"><code class="prompt">$</code> <strong class="userinput"><code>runghc Setup configure --user --prefix=$HOME -p</code></strong></pre></li><li><p id="x_sN1"><a name="x_sN1"></a>Build (this will build each source file twice, with
	    and without profiling support):</p><pre id="id689283" class="screen"><code class="prompt">$</code> <strong class="userinput"><code>runghc Setup build</code></strong></pre></li><li><p id="x_tN1"><a name="x_tN1"></a>Install if you chose system-wide configuration
	    above:</p><pre id="id689308" class="screen"><code class="prompt">$</code> <strong class="userinput"><code>sudo runghc Setup install</code></strong></pre><p id="x_uN1"><a name="x_uN1"></a>Alternatively, if you chose configuration for yourself
	    only:</p><pre id="id689331" class="screen"><code class="prompt">$</code> <strong class="userinput"><code>runghc Setup install</code></strong></pre></li></ol></div><p id="x_vN1"><a name="x_vN1"></a>If you build by hand, you will frequently find that the
	configuration step fails because some other library must be
	installed first.  You may find yourself needing to download
	and build several packages before you can make progress on the
	one you really want.  This is why we recommend using the
	<span class="command"><strong>cabal</strong></span> command instead.</p></div></div></div><div class="rwhfooter"><p><img src="/support/figs/rss.png"> Want to stay up to date? Subscribe to the comment feed for <a id="chapterfeed" class="feed" href="/feeds/comments/">this chapter</a>, or the <a class="feed" href="/feeds/comments/">entire book</a>.</p><p>Copyright 2007, 2008 Bryan O'Sullivan, Don Stewart, and
      John Goerzen. This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/">Creative
      Commons Attribution-Noncommercial 3.0 License</a>. Icons by <a href="mailto:mattahan@gmail.com">Paul Davey</a> aka <a href="http://mattahan.deviantart.com/">Mattahan</a>.</p></div><div class="navfooter"><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="software-transactional-memory.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="characters-strings-and-escaping-rules.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 28. Software transactional memory </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Appendix B. Characters, strings, and escaping rules</td></tr></table></div><script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">_uacct = "UA-1805907-3"; urchinTracker();</script></body></html>
